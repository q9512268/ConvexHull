package de.feu.propra18.q9512268.app.main;

import java.util.Comparator;
import java.util.Iterator;
import java.util.TreeSet;

import de.feu.propra18.q9512268.app.objects.Point;
import de.feu.propra18.q9512268.app.objects.SimplePoint;

final class ConvexOutlineLeftCalculator extends ConvexOutlineTemplate {

	@Override
	protected TreeSet<SimplePoint> createOutline() {

		Comparator<SimplePoint> yAscending = (p1, p2) -> Integer.compare(p1.getY(), p2.getY());

		TreeSet<SimplePoint> outline = new TreeSet<SimplePoint>(yAscending);

		Point min_y_so_far = currentPoints.get(0);
		Point max_y_so_far = currentPoints.get(0);
		outline.add(new SimplePoint(min_y_so_far.getX(), min_y_so_far.getY()));
		for (Iterator<Point> iterator = currentPoints.iterator(); iterator.hasNext();) {
			Point point = (Point) iterator.next();
			if (point.getCenterY() < min_y_so_far.getCenterY()) {
				outline.add(new SimplePoint(point.getX(), point.getY()));
				min_y_so_far = point;
			}
			if (point.getCenterY() > max_y_so_far.getCenterY()) {
				outline.add(new SimplePoint(point.getX(), point.getY()));
				max_y_so_far = point;
			}
		}

		return outline;

	}

}
