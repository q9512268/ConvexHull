package de.feu.propra18.q9512268.app.io;

import java.util.List;

import de.feu.propra18.q9512268.app.main.MainFacade;
import de.feu.propra18.q9512268.app.objects.Point;
import javafx.stage.FileChooser;

/**
 * This class acts as the main access point to IO Utilities in the
 * {@link de.feu.propra18.q9512268.app.io} package.
 * 
 * @author Christian Luetticke
 * @version 1.0
 */
public class IOFacade {

	/**
	 * Final singleton instance of the {@link IOFacade}.
	 * <br/>Gets created when accessed the first time.
	 */
	private static final IOFacade INSTANCE = new IOFacade();
	/**
	 * {@link IOFacade} holds a reference to the {@link CustomFileChooser} singleton instance.
	 */
	private CustomFileChooser cfc;

	/**
	 * Private constructor which can never be called directly.
	 * <p/>Only instantiated when accessing {@link IOFacade#INSTANCE} for the first time.
	 * <p/>Calls {@link CustomFileChooser#getInstance()} to get a reference to the {@link CustomFileChooser} singleton.
	 */
	private IOFacade() {
		this.cfc = CustomFileChooser.getInstance();
	}

	/**
	 * Public method which delegates a 'save' or 'save as' request to the {@link FileOutput#save_PointsToFile(String, List)} method.
	 * @param fileName Name of file to export points to.
	 * @param points Current list of points.
	 * @see MainFacade#save_PointsToFile(String)
	 */
	public void save_PointsToFile(String fileName, List<Point> points) {
		FileOutput.save_PointsToFile(fileName, points);
	}

	/**
	 * Public method which delegates the request to add {@link Point} instances to the {@link FileInput#add_PointsFromFile(String)} method.
	 * @param fileName Name of file to read point coordinates from.
	 * @see MainFacade#add_PointsFromFile(String)
	 */
	public void add_PointsFromFile(String fileName) {
		FileInput.add_PointsFromFile(fileName);
	}

	/**
	 * Public method which delegates the request to add {@link Point} instances to the {@link FileInput#add_PointsFromFile_noDuplicates(String)(String)} method.
	 * <p/>Can be used when {@link Point} should be checked for their existence before adding them to the {@link de.feu.propra18.q9512268.app.main.PointsContainer}.
	 * <p/>Used when a fileName is passed from the FileChooser of the user interface.
	 * @param fileName Name of file to read point coordinates from.
	 * @see MainFacade#add_PointsFromFile(String, String)
	 */
	public void add_PointsFromFile_noDuplicates(String fileName) {
		FileInput.add_PointsFromFile_noDuplicates(fileName);
	}

	/**
	 * Public method which delegates the request to add {@link Point} instances from an array of x/y coordinates to the {@link FileInput#add_PointsFromFile(String)} method.
	 * @param fileName Name of file to read point coordinates from.
	 * @see MainFacade#add_PointsFromFile(String)
	 */
	public void add_PointsFromArray(int[][] array) {
		ArrayInput.add_PointsFromArray(array);
	}

	/**
	 * Get Access to the {@link CustomFileChooser#fc}.
	 * 
	 * @return The FileChooser instance.
	 */
	public FileChooser get_FileChooser() {
		return cfc.get_fc();
	}

	/**
	 * Get Access to the {@link IOFacade#INSTANCE}.
	 * 
	 * @return The IOFacade instance.
	 * @see MainFacade#get_Instance()
	 */
	public static IOFacade getInstance() {
		return INSTANCE;
	}

}
